{% extends 'setup/base.html' %}

{% block title %}Configurar PostgreSQL{% endblock %}
{% block icon %}üêò{% endblock %}
{% block heading %}Configurar PostgreSQL{% endblock %}
{% block subheading %}Configure seu banco de dados PostgreSQL{% endblock %}

{% block content %}
<form method="post">
    {% csrf_token %}

    <div class="form-group checkbox-group">
        {{ form.use_container }}
        <label for="id_use_container">Usar Container Docker</label>
    </div>
    <p class="help-text">Usar PostgreSQL em container Docker (recomendado)</p>

    <div class="form-group">
        <label for="id_host">Host</label>
        {{ form.host }}
        <p class="help-text">Host do banco de dados (use "db" para container Docker)</p>
    </div>

    <div class="form-group">
        <label for="id_port">Porta</label>
        {{ form.port }}
        <p class="help-text">Porta do banco de dados (padr√£o: 5432)</p>
    </div>

    <div class="form-group">
        <label for="id_database_name">Nome do Banco de Dados</label>
        {{ form.database_name }}
    </div>

    <div class="form-group">
        <label for="id_username">Usu√°rio</label>
        {{ form.username }}
    </div>

    <div class="form-group">
        <label for="id_password">Senha</label>
        {{ form.password }}
    </div>

    <div class="form-group">
        <label for="id_password_confirm">Confirmar Senha</label>
        {{ form.password_confirm }}
    </div>

    {% if form.errors %}
    <div class="error-message">
        {% for field, errors in form.errors.items %}
        {% for error in errors %}
        <div>{{ error }}</div>
        {% endfor %}
        {% endfor %}
    </div>
    {% endif %}

    <div class="btn-group">
        <a href="{% url 'setup:choose_database' %}" class="btn btn-secondary">‚Üê Voltar</a>
        <button type="submit" class="btn btn-primary">Testar Conex√£o ‚Üí</button>
    </div>
</form>
{% endblock %}